<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>Element Explorer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="app">
      <header class="app-header">
        <h1 class="app-title">
          Element Explorer
          <button id="langToggle" class="lang-toggle" type="button">EN</button>
        </h1>
        <p class="app-subtitle" id="appSubtitle">全元素ビュー ＋ 金属ビュー（MVP）</p>
      </header>

      <div class="app-body">
        <!-- サイドバー -->
        <aside class="sidebar">
          <h2 class="sidebar-title">元素一覧</h2>

          <input
            id="elementSearch"
            class="search-input"
            type="search"
            placeholder="元素名 / 記号 / 番号で検索"
          />

          <div class="element-list-wrapper">
            <ul id="elementList" class="element-list"></ul>
          </div>
        </aside>

        <!-- メイン -->
        <main class="main">

          <!-- 全元素ビュー -->
          <section id="allView" class="view-panel is-active">
            <section class="periodic-section">
              <h2 class="section-title">元素表（本物レイアウト風）</h2>
              <p class="section-note">セルをクリックすると下の詳細カードが切り替わります。</p>
              <div id="periodicTable" class="periodic-table"></div>
            </section>
          </section>


          <!-- 詳細（共通） -->
          <section class="detail-section">
            <div class="element-card">
              <div class="element-card-main">
                <div id="cardSymbol" class="element-symbol">H</div>
                <div id="cardNames" class="element-names">水素 / Hydrogen</div>
              </div>
              <div id="cardAtomicNumber" class="element-atomic">1</div>
            </div>

            <div id="elementInfo" class="element-info">
              <table class="info-table">
                <tbody>
                  <tr>
                    <th>原子番号</th>
                    <td id="infoAtomicNumber">-</td>
                  </tr>
                  <tr>
                    <th>元素記号</th>
                    <td id="infoSymbol">-</td>
                  </tr>
                  <tr>
                    <th>日本語名</th>
                    <td id="infoNameJa">-</td>
                  </tr>
                  <tr>
                    <th>英語名</th>
                    <td id="infoNameEn">-</td>
                  </tr>
                  <tr>
                    <th>原子量</th>
                    <td id="infoMass">-</td>
                  </tr>
                  <tr>
                    <th>分類</th>
                    <td id="infoCategory">-</td>
                  </tr>
                  <tr>
                    <th>周期</th>
                    <td id="infoPeriod">-</td>
                  </tr>
                  <tr>
                    <th>族</th>
                    <td id="infoGroup">-</td>
                  </tr>
                  <tr>
                    <th>常温での状態</th>
                    <td id="infoState">-</td>
                  </tr>
                  <tr>
                    <th>密度</th>
                    <td id="infoDensity">-</td>
                  </tr>
                  <tr>
                    <th>融点</th>
                    <td id="infoMelting">-</td>
                  </tr>
                  <tr>
                    <th>沸点</th>
                    <td id="infoBoiling">-</td>
                  </tr>
                  <tr>
                    <th>電子配置</th>
                    <td id="infoElectronConfig">-</td>
                  </tr>
                  <tr>
                    <th>電子殻</th>
                    <td id="infoShell">-</td>
                  </tr>
                  <tr>
                    <th>代表的な酸化数</th>
                    <td id="infoOxidation">-</td>
                  </tr>
                  <tr>
                    <th>電気陰性度<br />(Pauling)</th>
                    <td id="infoElectronegativity">-</td>
                  </tr>
                  <tr>
                    <th>原子半径（約・pm）</th>
                    <td id="infoAtomicRadius">-</td>
                  </tr>

                  <!-- ここ：第1イオン化エネルギーの直下に価格 -->
                  <tr>
                    <th>第1イオン化エネルギー<br />(kJ/mol)</th>
                    <td id="infoIonizationEnergy">-</td>
                  </tr>

                  <!-- 価格（インライン ▾） -->
                  <tr class="price-row">
                    <th>価格</th>
                    <td class="price-cell">
                      <span id="priceLatest">-</span>
                      <span id="priceDelta" class="delta neutral"></span>
                      <span id="priceMeta" class="meta"></span>

                      <!-- script.js が priceToggle を参照 -->
                      <span
                        id="priceToggle"
                        class="price-caret"
                        role="button"
                        tabindex="0"
                        aria-expanded="false"
                        aria-controls="priceChartRow"
                        aria-label="価格チャートを開閉"
                        title="チャートを開閉"
                      >▾</span>
                    </td>
                  </tr>

                  <!-- チャート（全幅 row） -->
                  <tr id="priceChartRow" hidden>
                    <td colspan="2">
                      <div id="priceChartWrap" class="price-chart-wrap">
                        <div class="price-controls">
                        
                          <select id="priceGranularity">
                            <option value="month" selected>月足</option>
                            <option value="year">年足（年平均）</option>
                          </select>
<div class="price-range">
  <button data-range="1y" class="range-btn">1年</button>
  <button data-range="5y" class="range-btn">5年</button>
  <button data-range="all" class="range-btn is-active">全期間</button>
</div>

                        </div>

                        <div class="price-chart-canvas">
                          <canvas id="priceChart"></canvas>
                        </div>

                        <p id="priceMessage" class="price-message"></p>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>

              <p class="info-note">
                ※ 値は標準状態（25℃付近）の代表値（教科書レベル）を想定。未入力の項目は「-」で表示されます。
              </p>
            </div>

            <section class="text-section">
              <h3 class="section-title small">この元素について</h3>

              <div class="text-block">
                <h4>主な用途</h4>
                <p id="textUsage">この元素の主な用途は準備中です。</p>
              </div>

              <div class="text-block">
                <h4>性質・特徴</h4>
                <p id="textFeature">この元素の性質や特徴は準備中です。</p>
              </div>

              <div class="text-block">
                <h4>歴史・背景</h4>
                <p id="textHistory">この元素の歴史や名前の由来などは準備中です。</p>
              </div>

              <div class="text-block">
                <h4>注意点・関連情報</h4>
                <p id="textNotice">この元素に関する注意点や、関連する製品・教材の情報を今後追加していけます。</p>
              </div>
            </section>
            <section class="more-section" aria-label="詳細データ">
  <h3 class="section-title small">詳細データ</h3>

  <!-- スマホ用タブ（PCでは非表示） -->
  <div class="more-tabs" role="tablist" aria-label="詳細データのタブ">
    <button class="more-tab is-active" type="button" data-target="moreDetail" role="tab" aria-selected="true">詳細</button>
    <button class="more-tab" type="button" data-target="moreMaterials" role="tab" aria-selected="false">資源</button>
    <button class="more-tab" type="button" data-target="moreDataset" role="tab" aria-selected="false">データ集</button>
  </div>

  <!-- PC：アコーディオン / スマホ：タブで制御（中身は共通） -->
  <details id="moreDetail" class="more-accordion" data-section="detail">
    <summary>詳細（読み物）</summary>
    <div class="more-content" data-more-content="detail">
      <p class="more-placeholder">（未読み込み）</p>
    </div>
  </details>

  <details id="moreMaterials" class="more-accordion" data-section="materials">
    <summary>材料・資源</summary>
    <div class="more-content" data-more-content="materials">
      <p class="more-placeholder">（未読み込み）</p>
    </div>
  </details>

  <details id="moreDataset" class="more-accordion" data-section="dataset">
    <summary>データ集</summary>
    <div class="more-content" data-more-content="dataset">
      <p class="more-placeholder">（未読み込み）</p>
    </div>
  </details>
            </section>

          </section>
        </main>
      </div>

      <footer class="app-footer">Element Explorer © 2025</footer>
    </div>

    <!-- Chart.js -->
    <script src="./chart.umd.js"></script>
    <script src="script.js"></script>
  </body>
</html>
